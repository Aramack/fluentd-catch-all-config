<source>
  @type tail
  # Sample format
  # 127.0.0.1 - - [30/Oct/2017:16:20:31 +0000] "GET /something HTTP/1.1" 404 1002
  format ^(?<ip_address>\d+\.\d+\.\d+\.\d+) - - \[(?<time>\d+\/\w+\/\d{4}:\d+:\d+:\d+ [-+]\d+)\] "(?<method>\w+) (?<path>\/\w+) (?<http_version>[^"]+)" (?<status_code>\d+) (?<content_length>\d+)$
  path /var/log/tomcat*/localhost_access_log.%Y-%m-%d.txt
  pos_file /var/lib/google-fluentd/pos/tomcat.pos
  read_from_head true
  tag tomcat-localhost_access_log
</source>

<source>
  @type tail
  format multiline
  # Match the date at the beginning of each entry, which can be in one of two
  # different formats.
  format_firstline /^(\w+\s\d+,\s\d+)|(\d+-\d+-\d+\s)/
  format1 /(?<message>.*)/
  path /var/log/tomcat*/catalina.out,/var/log/tomcat*/localhost.*.log
  pos_file /var/lib/google-fluentd/pos/tomcat-multiline.pos
  read_from_head true
  tag tomcat
</source>

# TODO: Add a tag rewriter?
